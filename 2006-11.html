<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head><script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=Hk4-lkW3" charset="utf-8"></script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=txqj7nKC" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden","showSwfDownload":true};</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
<script type="text/javascript">
    __wm.init("https://web.archive.org/web");
  __wm.wombat("http://www.coins.tsukuba.ac.jp:80/~i021216/diary/?date=200611","20070327112108","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1174994468");
</script>
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/banner-styles.css?v=1utQkbB3" />
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=3PDvdIFv" />
<!-- End Wayback Rewrite JS Include -->

	<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP">
	<meta name="generator" content="tDiary 2.0.0">
	<meta http-equiv="Last-Modified" content="Sat, 17 Mar 2007 04:07:53 GMT">
	<meta http-equiv="Content-Script-Type" content="text/javascript; charset=EUC-JP">
	<meta name="author" content="水島宏太">
	<link rev="made" href="mailto:hau51010{at}tree.odn.ne.jp">
	<link rel="index" title="トップ" href="http://www.coins.tsukuba.ac.jp/~i021216/">
	<link rel="start" title="最新" href="./">
	<meta http-equiv="content-style-type" content="text/css">
	<link rel="stylesheet" href="/web/20070327112108cs_/http://www.coins.tsukuba.ac.jp/~i021216/diary/theme/base.css" type="text/css" media="all">
	<link rel="stylesheet" href="/web/20070327112108cs_/http://www.coins.tsukuba.ac.jp/~i021216/diary/theme/another_blue/another_blue.css" title="another_blue" type="text/css" media="all">
	<title>Onion開発日記(2006-11)</title>
	
	<!--link rel="alternate" type="application/x-lirs" title="lirs" href="antenna.lirs"-->
	<link rel="alternate" type="application/rss+xml" title="RSS" href="https://web.archive.org/web/20070327112108/http://www.coins.tsukuba.ac.jp/~i021216/diary/index.rdf">
</head>
<body>


<div class="adminmenu">
<span class="adminmenu"><a href="https://web.archive.org/web/20070327112108/http://www.coins.tsukuba.ac.jp/~i021216/">トップ</a></span>
<span class="adminmenu"><a href="./">最新</a></span>
<span class="adminmenu"><a href="update.rb">追記</a></span>
</div>
<h1>Onion開発日記</h1>
<div class="calendar">
<div class="year">2004|<a href="./?date=200409">09</a>|<a href="./?date=200410">10</a>|<a href="./?date=200411">11</a>|<a href="./?date=200412">12</a>|</div>
<div class="year">2005|<a href="./?date=200501">01</a>|<a href="./?date=200502">02</a>|<a href="./?date=200503">03</a>|<a href="./?date=200504">04</a>|<a href="./?date=200505">05</a>|<a href="./?date=200506">06</a>|<a href="./?date=200507">07</a>|<a href="./?date=200508">08</a>|<a href="./?date=200509">09</a>|<a href="./?date=200510">10</a>|<a href="./?date=200511">11</a>|<a href="./?date=200512">12</a>|</div>
<div class="year">2006|<a href="./?date=200601">01</a>|<a href="./?date=200602">02</a>|<a href="./?date=200603">03</a>|<a href="./?date=200604">04</a>|<a href="./?date=200605">05</a>|<a href="./?date=200606">06</a>|<a href="./?date=200607">07</a>|<a href="./?date=200608">08</a>|<a href="./?date=200609">09</a>|<a href="./?date=200610">10</a>|<a href="./?date=200611">11</a>|<a href="./?date=200612">12</a>|</div>
<div class="year">2007|<a href="./?date=200701">01</a>|<a href="./?date=200702">02</a>|<a href="./?date=200703">03</a>|</div>
</div>
<div class="todo">
	<div class="todo-title">
		<p>ToDo:</p>
	</div>
	<div class="todo-body">
<ul>
</ul>

	</div>
</div>


<hr class="sep">


	
<div class="day">
<h2><span class="date"><a href="./?date=20061103">2006-11-03</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061103#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=Java">Java</a>]<a href="https://web.archive.org/web/20070327112108/http://www.lrr.in.tum.de/~jasmin/">Jasmin - Java Assembler Interpreter</a></h3><p>
<a href="https://web.archive.org/web/20070327112108/http://machine.homeunix.org/weblog/archives/cat_script_on_java.html">こんな毎日・・・ Script_on_Java</a>経由。
</p>
<p>
Jasminというから、てっきり<a href="https://web.archive.org/web/20070327112108/http://jasmin.sourceforge.net/">このJasmin</a>でバイトコードアセンブラを直接実行できるようになったのかと思っていたら、違ったらしいorz。まぎらわしい。「こんな毎日」での紹介を見るに、どうやらX86っぽいアセンブラを実行できるインタプリタにエディタやデバッガなどを統合したものっぽい。
</p></div><div class="section">
<h3><a href="./?date=20061103#p02"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=%B8%C0%B8%EC">言語</a>]<a href="https://web.archive.org/web/20070327112108/http://d.hatena.ne.jp/xtalco/">新言語 Xtalを作る日記</a></h3><p>
新しいスクリプト言語Xtalを作っている人の日記。言語の設計に関する話は、同じく俺言語を作っている身としてなかなか面白い。これからWatchしていくことにしょう。
</p>
<p>
しかし、ちゃんとタイトルの通りに開発日記になっている点は見習わなければいけないな。こっちなんか、タイトルが「Onion開発日記」なのに、Onionの開発について、最近ほとんど書いてないし。一応細々と開発してはいるんだけど、まず現在のバージョンのソースコードが汚過ぎるので、それをまずなんとかしなければという状態orz
</p></div>

</div>

<div class="comment">

		<div class="caption">本日のツッコミ(全2件) [<a href="./?date=20061103#c">ツッコミを入れる</a>]</div>
		<div class="commentshort">
				<p><a href="./?date=20061103#c01"><span class="canchor">_</span></a>
				<span class="commentator">こんな毎日・・・</span>&nbsp;[ああ、Jasmin紛らわしかったですね。すいません。 （私も最初間違えました、ははは…）  ]</p>
				<p><a href="./?date=20061103#c02"><span class="canchor">_</span></a>
				<span class="commentator">みずしま</span>&nbsp;[わざわざありがとうございます。「こんな毎日・・・Script_on_Java」はいつもWatchさせてもらっています..]</p>
		</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/fetish/zanyato/" title="http://www2.xfreehosting.com/fetish/zanyato/">997</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">845</a> | <a href="https://web.archive.org/web/20070327112108/http://prodaza.porkyhost.com/" title="http://prodaza.porkyhost.com/">734</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/veselis/" title="http://www.nastyhost.com/members/veselis/">675</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">672</a> | <a href="https://web.archive.org/web/20070327112108/http://zakovka.porkyhost.com/" title="http://zakovka.porkyhost.com/">671</a> | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/hardcore/navsegda/" title="http://www2.xfreehosting.com/hardcore/navsegda/">669</a> | <a href="https://web.archive.org/web/20070327112108/http://vsemoe.sultryserver.com/" title="http://vsemoe.sultryserver.com/">669</a> | <a href="https://web.archive.org/web/20070327112108/http://glazam.sultryserver.com/" title="http://glazam.sultryserver.com/">662</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">502</a> | <a href="./?date=20061103#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061106">2006-11-06</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061106#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=%A5%D7%A5%ED%A5%B0%A5%E9%A5%E0">プログラム</a>][<a href="./?year=2006;month=4Q;category=%B8%C0%B8%EC">言語</a>]情報科学若手の会発表スライド</h3><p>
もう1ヶ月半以上前の話で今更だが、9/16〜9/18に<a href="https://web.archive.org/web/20070327112108/http://wakate.aitea.net/2006.html">第39回情報科学若手の会</a>というのがあったので、参加してきた。
</p>
<p>
内容や感想については今更書いても仕方無いので置いておくが、自分の発表スライドを公開していたのを思い出したので、せっかくなのでリンクを貼っておく。ちなみに内容は、変態言語(braif**kやwhitespaceなど、実用性皆無のネタ言語のこと)についての簡単な紹介と、文字列をbraif**kプログラムに変換する拙作のネタプログラムbbencodeとwhitespaceプログラムに変換するwwencodeの紹介。名前から見てわかる通り、竹迫さんのppencodeにインスパイアされて作ったもの。かなり手抜きコードで、日本語文字列を入力した場合、正しく動作しないとか問題があるが、その辺は容赦していただきたい。
</p>
<ul>
<li><p><a href="https://web.archive.org/web/20070327112108/http://www.coins.tsukuba.ac.jp/~i021216/wakate/2006/mizushima-wakate2006-demo.ppt">発表スライド(.ppt)</a></li>
<li><a href="https://web.archive.org/web/20070327112108/http://www.coins.tsukuba.ac.jp/~i021216/wakate/2006/bbencode.html">bbencodeデモ</a></p>
<p>
<strong>注： Input Textに全角文字を入力しないでください。正しく動作しません。</strong>
</p>
</li>
<li><p><a href="https://web.archive.org/web/20070327112108/http://www.coins.tsukuba.ac.jp/~i021216/wakate/2006/wwencode.html">wwencode デモ</a></p>
<p>
<p>
<strong>注： Input Textに全角文字を入力しないでください。正しく動作しません。</strong>
</p>
</li>
<li>
<a href="https://web.archive.org/web/20070327112108/http://www.coins.tsukuba.ac.jp/~i021216/wakate/2006/matome.ppt">まとめスライド(.ppt)</a>
</ul></div>

</div>

<div class="comment">

	<div class="caption">[<a href="./?date=20061106#c">ツッコミを入れる</a>]</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">335</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">334</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">333</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=www.patatina.com&amp;meta=" title="http://www.google.it/search?hl=it&amp;q=www.patatina.c...">27</a> | <a href="https://web.archive.org/web/20070327112108/http://search.alice.it/search/cgi/search.cgi?f=hp&amp;switch=0&amp;offset=0&amp;hits=10&amp;qs=www.videoporno.it" title="http://search.alice.it/search/cgi/search.cgi?f=hp&amp;...">23</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=www.videoporno.it&amp;btnG=Cerca+con+Google&amp;meta=" title="http://www.google.it/search?hl=it&amp;q=www.videoporno...">13</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=www.Moana+Pozzi+sexy.it&amp;btnG=Cerca+con+Google&amp;meta=" title="http://www.google.it/search?hl=it&amp;q=www.Moana Pozz...">12</a> | <a href="https://web.archive.org/web/20070327112108/http://mixi.jp/view_diary.pl?url=http%3A%2F%2Fwww.coins.tsukuba.ac.jp%2F~i021216%2Fdiary%2F%3Fdate%3D20061106%23p01&amp;owner_id=170835" title="http://mixi.jp/view_diary.pl?url=http://www.coins....">12</a> | <a href="https://web.archive.org/web/20070327112108/http://search.alice.it/search/cgi/search.cgi?dom=s&amp;offset=0&amp;hits=10&amp;switch=0&amp;f=ds&amp;qs=www.videoporno.it&amp;Cerca.x=33&amp;Cerca.y=9" title="http://search.alice.it/search/cgi/search.cgi?dom=s...">11</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=www.videoporno.it&amp;meta=" title="http://www.google.it/search?hl=it&amp;q=www.videoporno...">10</a> | <a href="./?date=20061106#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061107">2006-11-07</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061107#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=Onion">Onion</a>]後置インクリメント/デクリメント演算子の追加</h3><p>
かなり久しぶりに、開発日記らしいエントリ。今日は、実装自体は大して難しくないのだが、単に面倒くさいので後回しにしていた後置インクリメント/デクリメント演算子を追加した。これで、次のサンプルプログラムが動作するようになった。
</p>
<p><strong>Inc.on</strong></p>
<pre>
list = ["A", "B", "C", "D", "E"];
for i = 0; i &lt; list.size; i++ {
  System::out.println(list[i]);
}
</pre>
<p>実行結果</p>
<pre>
&gt;onion Inc.on
A
B
C
D
E
</pre>
<p><strong>Dec.on</strong></p>
<pre>
list = ["A", "B", "C", "D", "E"];
for i = list.size - 1; i &gt;= 0; i-- {
  System::out.println(list[i]);
}
</pre>
<p>実行結果</p>
<pre>
&gt;onion Dec.on
E
D
C
B
A
</pre>
<p>
ただ、リストの要素を最初から順番に取り出すだけならforeach文を使って次のようにかけるので、最初の例はサンプルとしてはあまり意味が無いが。
</p>
<pre>
list = ["A", "B", "C", "D", "E"];
foreach s :String in list {
  System::out.println(s);
}
</pre></div><div class="section">
<h3><a href="./?date=20061107#p02"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=Onion">Onion</a>]今後の方針</h3><p>
後置インクリメント/デクリメント演算子を追加していて感じたのだが、やはり現在のコードのまま、機能拡張を続けるのはやばそうだ。
</p>
<p>
現在のOnionのコンパイラは、大体次のような構成になっているのだが、
</p>
<pre>
入力 --構文解析--&gt; 抽象構文木 --意味解析(型チェックなど)--&gt; 中間言語 --コード生成--&gt; クラスファイル
</pre>
<p>
中間言語の構造をあまりよく考えずに作ったため、中途半端に高級で(式と文の区別やループ構造が存在)、中途半端に低級な(あるメソッド内のローカル変数は全てインデックスで一意に識別されるなど)部分が混在した変な中間言語になってしまった。そのため、抽象構文木から中間言語への変換を行う部分が、不必要に複雑になってしまった。これ以上の機能拡張を行う前に、まずはこの中間言語の構造を見直す必要がありそうだ。
</p></div>

</div>

<div class="comment">

	<div class="caption">[<a href="./?date=20061107#c">ツッコミを入れる</a>]</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/fetish/zanyato/" title="http://www2.xfreehosting.com/fetish/zanyato/">3000</a> | <a href="https://web.archive.org/web/20070327112108/http://prodaza.porkyhost.com/" title="http://prodaza.porkyhost.com/">2193</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">2055</a> | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/hardcore/navsegda/" title="http://www2.xfreehosting.com/hardcore/navsegda/">2010</a> | <a href="https://web.archive.org/web/20070327112108/http://vsemoe.sultryserver.com/" title="http://vsemoe.sultryserver.com/">1996</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/veselis/" title="http://www.nastyhost.com/members/veselis/">1994</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">1991</a> | <a href="https://web.archive.org/web/20070327112108/http://zakovka.porkyhost.com/" title="http://zakovka.porkyhost.com/">1990</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">1828</a> | <a href="https://web.archive.org/web/20070327112108/http://glazam.sultryserver.com/" title="http://glazam.sultryserver.com/">1657</a> | <a href="./?date=20061107#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061112">2006-11-12</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061112#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=Eclipse">Eclipse</a>]<a href="https://web.archive.org/web/20070327112108/http://bluenotetex.sourceforge.net/index-ja.html">BlueNoteTex</a></h3><p>
現在、今週のシス情セミナーの資料をLaTexで作っている。今まではVimで.texファイルを編集して、シェルからコンパイル-&gt;プレビューみたいなことをやっていたのだが、今回は試しにEclipseのLaTexプラグインであるBlueNoteTexを使ってみた。いくつか機能不足な点はあるが(ex. プロジェクトごとに.texファイルのコンパイル用のコマンドを切り替えられない)、今回のような簡単な資料を作るなら、十分使えるレベルに達していると感じた。
</p></div>

</div>

<div class="comment">

		<div class="caption">本日のツッコミ(全2件) [<a href="./?date=20061112#c">ツッコミを入れる</a>]</div>
		<div class="commentshort">
				<p><a href="./?date=20061112#c01"><span class="canchor">_</span></a>
				<span class="commentator">斎藤ただし</span>&nbsp;[しばらく考えて、よく分からないんで教えて欲しいんだけど: EclipseとEmacsの最も本質的な違いは何だろう? ..]</p>
				<p><a href="./?date=20061112#c02"><span class="canchor">_</span></a>
				<span class="commentator">みずしま</span>&nbsp;[うーん。拡張するための言語が、EclipseはJavaでEmacsは Emacs Lispだとか違いは色々あると思う..]</p>
		</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://glazam.sultryserver.com/" title="http://glazam.sultryserver.com/">993</a> | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/fetish/zanyato/" title="http://www2.xfreehosting.com/fetish/zanyato/">982</a> | <a href="https://web.archive.org/web/20070327112108/http://prodaza.porkyhost.com/" title="http://prodaza.porkyhost.com/">723</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/veselis/" title="http://www.nastyhost.com/members/veselis/">661</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">660</a> | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/hardcore/navsegda/" title="http://www2.xfreehosting.com/hardcore/navsegda/">658</a> | <a href="https://web.archive.org/web/20070327112108/http://zakovka.porkyhost.com/" title="http://zakovka.porkyhost.com/">657</a> | <a href="https://web.archive.org/web/20070327112108/http://vsemoe.sultryserver.com/" title="http://vsemoe.sultryserver.com/">653</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">556</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">432</a> | <a href="./?date=20061112#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061114">2006-11-14</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061114#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=Java">Java</a>]<a href="https://web.archive.org/web/20070327112108/http://www.itmedia.co.jp/news/articles/0611/13/news060.html">Sun、JavaをGPLでオープンソース化</a></h3><p>
<a href="https://web.archive.org/web/20070327112108/http://javanews.jp/">Java News</a>経由。
</p>
<p>
とりあえず最初はjavacと仮想マシンのソースコードだけらしいが、最終的には全てオープンソース化するらしい。
</p>
<p>
ところで、前から「Javaをオープンソース化」って言葉は何か変だと思っていたのだが、どうなんだろう。「SunのJava SE実装をオープンソース化」とかならわかるんだが、Javaは言語名あるいは実行環境の名前を表すものであって、それをオープンソース化というのは表現として変じゃないかなあ。
</p>
<p>
ちなみに、Java Newsから直接リンクが貼ってあったニュース記事で「Java SEをオープンソース化」のようにタイトルに書いてあったのは<a href="https://web.archive.org/web/20070327112108/http://japan.zdnet.com/news/software/story/0,2000056195,20313407,00.htm">ZDNet Japanの記事</a>と<a href="https://web.archive.org/web/20070327112108/http://japan.cnet.com/news/ent/story/0,2000056022,20313407,00.htm">CNET Japanの記事</a>だけで、他は「Javaをオープンソース化」のように書いてあった。
</p></div><div class="section">
<h3><a href="./?date=20061114#p02"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2">ソフトウェア</a>]<a href="https://web.archive.org/web/20070327112108/http://www.graphviz.org/">Graphviz</a></h3><p>
今週のセミナーの発表スライドで簡単なグラフを作成する必要があり、
Graphvizを使ってグラフ画像を作成してみた。テキストでグラフ間の
接続を記述するだけで、見やすいグラフ画像を生成してくれるので
なかなか便利。また、記法も直感的でわかりやすい。
</p></div>

</div>

<div class="comment">

	<div class="caption">[<a href="./?date=20061114#c">ツッコミを入れる</a>]</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/fetish/zanyato/" title="http://www2.xfreehosting.com/fetish/zanyato/">3924</a> | <a href="https://web.archive.org/web/20070327112108/http://prodaza.porkyhost.com/" title="http://prodaza.porkyhost.com/">3091</a> | <a href="https://web.archive.org/web/20070327112108/http://vsemoe.sultryserver.com/" title="http://vsemoe.sultryserver.com/">3076</a> | <a href="https://web.archive.org/web/20070327112108/http://glazam.sultryserver.com/" title="http://glazam.sultryserver.com/">3009</a> | <a href="https://web.archive.org/web/20070327112108/http://zakovka.porkyhost.com/" title="http://zakovka.porkyhost.com/">2937</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">2765</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/veselis/" title="http://www.nastyhost.com/members/veselis/">2684</a> | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/hardcore/navsegda/" title="http://www2.xfreehosting.com/hardcore/navsegda/">2621</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">2425</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">2295</a> | <a href="./?date=20061114#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061121">2006-11-21</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061121#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=Java">Java</a>][<a href="./?year=2006;month=4Q;category=%A5%CD%A5%BF">ネタ</a>]Java言語でgotoをエミュレートする</h3><p>
いきなりだが、Java言語にはgotoが無い(gotoという予約語はあるが、使用されていない)。gotoが無い理由としては色々考えられるが、おそらくその用途のほとんどは、構造化例外やラベル付きbreak/continue文で十分、あるいはその方が良いと設計者が判断したからだろう。しかし、Javaでgotoのようなことをすることは、本当にできないのだろうか。というわけで、Javaでgotoをエミュレートする方法を考えてみる。
</p>
<p>
まず、gotoには大きく分けて前方(ソースコードの下方向)へのジャンプと後方(ソースコードの上方向)へのジャンプの二種類があるが、この内前方へのジャンプについては既にJava言語に同等の機能が存在している。
</p>
<p>
どういうことかというと、Java言語のラベル付きbreak文はループだけでなく、任意のブロックから脱出可能であるため、ジャンプ専用のブロックを作ってそこに適当なラベルをつければ、そのブロックの中からラベル付きbreak文でブロックの終了直後にジャンプすることができるのだ。例えば、</p>
<pre>
...
BLOCK:{
  System.out.println("A");
  System.out.println("B");
  /* if(true)が無いと到達不能コードが存在するという
   * コンパイルエラーが出るため、コンパイラを黙らせるため必要
   */
  if(true) break BLOCK;
  System.out.println("C");
}
...
</pre>
<p>
上のようなコードを書いて実行すると、
</p>
<pre>
A
B
</pre>
<p>
とだけ表示され、breakの下の部分は実行されていない事がわかる。これで、前方へのジャンプについては解決できたことになる。
</p>
<p>
一方、後方へのジャンプはちょっとややこしい。一見、上と同様にラベル付きcontinue文を使って、次のように書けば良いように思えるが、これはコンパイルエラーになってしまう。ラベル付きcontinue文はループの中でしか使えない仕様になっているためだ。
</p>
<pre>
BLOCK:{
  System.out.println("A");
  System.out.println("B");
  //コンパイルエラー。ループの外でcontinueを使っている
  if(true) continue BLOCK;
  System.out.println("C");
}
</pre>
<p>
というわけで、ラベル付きcontinue文だけで後方へのジャンプをエミュレートするのは無理である。しかし、ここであきらめては面白く無いので、もう一工夫してみよう。ラベル付きcontinue文はループの中でしか使えないため、ループ(forやwhile文)で通常のブロックと同じ動作をするものが作れれば良い。そこで、次のようなループによって通常のブロックをエミュレートすることにする。
</p>
<pre>
while(true){
  ...
  break;//ループが
}
</pre>
<p>
あとは、このwhile文にラベルをつければ、その中でラベル付きcontinue文を使えることになり、めでたく後方へのジャンプもできるようになる。
</p>
<pre>
BLOCK:
while(true){
  ...
  continue BLOCK;//goto BLOCK;
  ...
  break;
}
</pre>
<p>
ちなみに、この技法を使った次のようなコードのメソッドを持ったクラスをJDK1.5のjavacでコンパイルして
</p>
<pre>
int i = 0;
BLOCK:
while(true){
  System.out.println(i);
  i++;
  if(i &lt; 10) continue BLOCK;
  break;
}
</pre>
<p>
逆アセンブルしてみたところ、次のようなバイトコードになった。このコードを見ると、whileの条件式の評価がjavacの最適化によって削除されていることがわかる。
</p>
<pre>
   0:   iconst_0
   1:   istore_1
   2:   getstatic       #2; //Field java/lang/System.out:Ljava/io/PrintStream;
   5:   iload_1
   6:   invokevirtual   #3; //Method java/io/PrintStream.println:(I)V
   9:   iinc    1, 1
   12:  iload_1
   13:  bipush  10
   15:  if_icmpge       21
   18:  goto    2
   21:  return
</pre>
<p>
追記：
</p>
<p>
斎藤君からのコメント：
</p>
<blockquote>
なんでwhile(true)のtrueは削除できるのに、if(true)のtrueは検知できないの?
# by 処理系初心者
</blockquote>
<p>
if(true)の場合も、ちゃんと条件判定を削除してくれます。
例えば、次のコード
</p>
<pre>
BLOCK:{
  System.out.println("A");
  if(true) break BLOCK;
  System.out.println("B");
  System.out.println("C");
}
</pre>
<p>
をSunのjavacでコンパイルして、逆アセンブルすると、次のようなコードになり、ifの条件式の判定とbreakのコードが削除されていることがわかります。
</p>
<pre>
   0:   getstatic       #2; //Field java/lang/System.out:Ljava/io/PrintStream;
   3:   ldc     #3; //String A
   5:   invokevirtual   #4; //Method java/io/PrintStream.println:(Ljava/lang/Str
ing;)V
   8:   return
</pre>
<p>
じゃあ何故最初の例でif(true)を入れているのかというと、これが無いと言語仕様のレベルでbreakより下が到達不能と判定されてしまい(<a href="https://web.archive.org/web/20070327112108/http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.21">JLSの14.21</a>「Unreachable Statements」参照)、コンパイルエラーになってしまうためです。一方、if(true)を挿入すると、言語仕様のレベルでは到達不能コードにならないためコンパイルエラーにならないが、処理系は到達不能コードが存在することを判定できるため、最適化できるということです。
</p></div>

</div>

<div class="comment">

		<div class="caption">本日のツッコミ(全18件) [<a href="./?date=20061121#c">ツッコミを入れる</a>]</div>
		<div class="commentshort">
			<p><a href="./?date=20061121#c01">Before...</a></p>
				<p><a href="./?date=20061121#c14"><span class="canchor">_</span></a>
				<span class="commentator">Indocin</span>&nbsp;[Hello, great day!]</p>
				<p><a href="./?date=20061121#c15"><span class="canchor">_</span></a>
				<span class="commentator">hoodia diet h</span>&nbsp;[Best site]</p>
				<p><a href="./?date=20061121#c16"><span class="canchor">_</span></a>
				<span class="commentator">hoodia x57</span>&nbsp;[Hello, all.]</p>
				<p><a href="./?date=20061121#c17"><span class="canchor">_</span></a>
				<span class="commentator">homebus</span>&nbsp;[I've just been letting everything happen without me lately..]</p>
				<p><a href="./?date=20061121#c18"><span class="canchor">_</span></a>
				<span class="commentator">Acnezine</span>&nbsp;[Order Acnezine]</p>
		</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">327</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">258</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">159</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.co.jp/search?q=Java+goto&amp;hl=ja&amp;lr=&amp;start=10&amp;sa=N" title="google検索(Java goto)">69</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.co.jp/search?hl=ja&amp;q=JAVA%E3%80%80%E3%83%A9%E3%83%99%E3%83%AB%E3%80%80Goto&amp;btnG=Google+%E6%A4%9C%E7%B4%A2&amp;lr=" title="google検索(JAVA　ラベル　Goto)">44</a> | <a href="https://web.archive.org/web/20070327112108/http://search.msn.es/spresults.aspx?q=pompis%2ccom&amp;first=1&amp;count=10&amp;FORM=PQPR" title="http://search.msn.es/spresults.aspx?q=pompis,com&amp;f...">36</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/search?hl=es&amp;q=menores+de+edad+100%25+salvadorenas+cojiendo&amp;btnG=B%C3%BAsqueda&amp;lr=" title="google検索(menores de edad 100% salvadorenas cojiendo)">19</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/custom?q=wwwputas.com&amp;sa=B%FAsqueda&amp;client=pub-8067499732907095&amp;forid=1&amp;ie=ISO-8859-1&amp;oe=ISO-8859-1&amp;cof=GALT%3A%23008000%3BGL%3A1%3BDIV%3A%23336699%3BVLC%3A663399%3BAH%3Acenter%3BBGC%3AFFFFFF%3BLBGC%3A336699%3BALC%3A0000FF%3BLC%3A0000FF%3BT%3A000000%3BGFNT%3A0000FF%3BGIMP%3A0000FF%3BFORID%3A1%3B&amp;hl=es" title="http://www.google.com/custom?q=wwwputas.com&amp;sa=B...">17</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/search?hl=en&amp;q=www.sexsi.ca&amp;btnG=Google+Search" title="google検索(www.sexsi.ca)">15</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com.br/search?hl=pt-BR&amp;q=wwwputas.com.br&amp;meta=" title="http://www.google.com.br/search?hl=pt-BR&amp;q=wwwputa...">15</a> | <a href="./?date=20061121#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061122">2006-11-22</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061122#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=%A4%BD%A4%CE%C2%BE">その他</a>][<a href="./?year=2006;month=4Q;category=orz">orz</a>]英語能力</h3><p>
コンビニのＡＴＭで預金を引き出していたら、外国人の女性に郵便局への道を英語でたずねられたが、まともに答えられなかった。自分の英語能力の無さにorz
</p>
<p>
追記: 
orzカテゴリを作ってみた。これからはorzな出来事があったときはこのカテゴリに書くことにする。
</p></div>

</div>

<div class="comment">

	<div class="caption">[<a href="./?date=20061122#c">ツッコミを入れる</a>]</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/fetish/zanyato/" title="http://www2.xfreehosting.com/fetish/zanyato/">1946</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/veselis/" title="http://www.nastyhost.com/members/veselis/">1627</a> | <a href="https://web.archive.org/web/20070327112108/http://vsemoe.sultryserver.com/" title="http://vsemoe.sultryserver.com/">1577</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/fetish/zamnoy/" title="http://www.hostones.com/websites/fetish/zamnoy/">1558</a> | <a href="https://web.archive.org/web/20070327112108/http://prodaza.porkyhost.com/" title="http://prodaza.porkyhost.com/">1438</a> | <a href="https://web.archive.org/web/20070327112108/http://glazam.sultryserver.com/" title="http://glazam.sultryserver.com/">1389</a> | <a href="https://web.archive.org/web/20070327112108/http://www.nastyhost.com/members/sovsem/" title="http://www.nastyhost.com/members/sovsem/">1352</a> | <a href="https://web.archive.org/web/20070327112108/http://www2.xfreehosting.com/hardcore/navsegda/" title="http://www2.xfreehosting.com/hardcore/navsegda/">1309</a> | <a href="https://web.archive.org/web/20070327112108/http://zakovka.porkyhost.com/" title="http://zakovka.porkyhost.com/">1306</a> | <a href="https://web.archive.org/web/20070327112108/http://www.hostones.com/websites/amateurs/zaebun/" title="http://www.hostones.com/websites/amateurs/zaebun/">1252</a> | <a href="./?date=20061122#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">
	
<div class="day">
<h2><span class="date"><a href="./?date=20061124">2006-11-24</a></span> <span class="title"></span></h2>

<div class="body">

<div class="section">
<h3><a href="./?date=20061124#p01"><span class="sanchor">_</span></a> [<a href="./?year=2006;month=4Q;category=%A4%BD%A4%CE%C2%BE">その他</a>]<a href="https://web.archive.org/web/20070327112108/http://www.mirai-kaigi.com/">第二回未来会議</a></h3><p>
<a href="https://web.archive.org/web/20070327112108/http://www.ikejisoft.com/">IKeJI</a>が主催している学内限定？イベント「未来会議」第２回で発表してきた。最初はJavaCCか何かのチュートリアルでもやろうと思っていたのだが、当日までにネタがまとまらず、以前SWoPPの発表で使ったスライドを少し改変してOnionの紹介をすることにorz。次は事前に何かネタ考えておかなきゃ。
</p>
<p>
ちなみに第３回は12月下旬頃の予定。発表ネタ募集中なので、何か発表したい方は<a href="https://web.archive.org/web/20070327112108/http://ikejisoft.com/?IKeJI">IKeJI</a>か自分(i021216{at}coins.tsukuba.ac.jp)辺りに連絡していただければと思います。あと、今のところほぼ学内限定になってますが、学外の方でも発表していただけるという奇特な方がいれば大歓迎です。
</p></div>

</div>

<div class="comment">

		<div class="caption">本日のツッコミ(全2件) [<a href="./?date=20061124#c">ツッコミを入れる</a>]</div>
		<div class="commentshort">
				<p><a href="./?date=20061124#c01"><span class="canchor">_</span></a>
				<span class="commentator">斎藤ただし</span>&nbsp;[な、なぬっ。そんなのやってるんだ。自分も地味なネタなら持ってるので、そこから大風呂敷を広げるのなら可能かな…  ]</p>
				<p><a href="./?date=20061124#c02"><span class="canchor">_</span></a>
				<span class="commentator">みずしま</span>&nbsp;[地味だろうが何だろうがネタがあるのなら大歓迎ですよ。 ちなみに、発表時間は一人当たり20〜30分程度です。  ]</p>
		</div>
</div>







		<div class="referer">
		本日のリンク元 | <a href="https://web.archive.org/web/20070327112108/http://www.google.es/search?q=escolares+lesbianas+jovencitas+follandose&amp;hl=es&amp;lr=&amp;rls=GGGL,GGGL:2006-37,GGGL:es&amp;start=50&amp;sa=N" title="http://www.google.es/search?q=escolares lesbianas ...">28</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=cazzi+neri+lunghi+e+grossi+che+trombano+con+troie+in+carne&amp;btnG=Cerca+con+Google&amp;meta=lr%3Dlang_it" title="http://www.google.it/search?hl=it&amp;q=cazzi neri lun...">24</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.co.ve/search?hl=es&amp;q=ninas+lloronas+por+cogidas+anales&amp;meta=" title="http://www.google.co.ve/search?hl=es&amp;q=ninas lloro...">24</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=www.discoteca+federica&amp;btnG=Cerca+con+Google&amp;meta=" title="http://www.google.it/search?hl=it&amp;q=www.discoteca ...">16</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/search?q=www.mis+dibujos.com" title="google検索(www.mis dibujos.com)">16</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.it/search?hl=it&amp;q=sorche++aperte&amp;btnG=Cerca+con+Google&amp;meta=" title="http://www.google.it/search?hl=it&amp;q=sorche  aperte...">15</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/search?hl=es&amp;q=menores+de+edad+100%25+salvadorenas+cojiendo&amp;btnG=B%C3%BAsqueda&amp;lr=" title="google検索(menores de edad 100% salvadorenas cojiendo)">14</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/" title="http://www.google.com">14</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.com/search?sourceid=navclient&amp;aq=t&amp;ie=UTF-8&amp;rls=HPIA,HPIA:2005-39,HPIA:en&amp;q=www%2ela+prensa%2ehn" title="google検索(t)">13</a> | <a href="https://web.archive.org/web/20070327112108/http://www.google.cl/search?sourceid=navclient&amp;aq=t&amp;hl=es&amp;ie=UTF-8&amp;rls=GGLJ,GGLJ:2006-48,GGLJ:es&amp;q=www%2ecristina+agilera%2e+cl%2e" title="http://www.google.cl/search?sourceid=navclient&amp;aq=...">12</a> | <a href="./?date=20061124#t">TrackBack(0)</a>
		</div>
</div>


	<hr class="sep">

<center>
Mizushima Kota/e-mail: i021216{at}coins.tsukuba.ac.jp/SKype ID: mizu_standard
</center>




<div class="footer">
Generated by <a href="https://web.archive.org/web/20070327112108/http://www.tdiary.org/">tDiary</a> version 2.0.0<br>
Powered by <a href="https://web.archive.org/web/20070327112108/http://www.ruby-lang.org/">Ruby</a> version 1.8.2
</div>
</body>
</html>
<!--
     FILE ARCHIVED ON 11:21:08 Mar 27, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 05:42:28 Nov 23, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.489
  exclusion.robots: 0.056
  exclusion.robots.policy: 0.043
  esindex: 0.007
  cdx.remote: 4.626
  LoadShardBlock: 268.763 (3)
  PetaboxLoader3.resolve: 138.967 (4)
  PetaboxLoader3.datanode: 238.592 (4)
  load_resource: 238.407
-->